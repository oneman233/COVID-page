<!-- 回到顶部 -->
<!-- 英文论文 -->
<!-- 图片组合 -->

<head>
    <title>Everything About COVID19</title>

    <!-- 引入 Vue -->
    <script src="https://unpkg.com/vue@next"></script>
    <!-- 引入 axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- 引入 Element+ 样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css" />
    <!-- 引入 Element+ 组件库 -->
    <script src="https://unpkg.com/element-plus"></script>
    <!-- 引入 echarts -->
    <script type="text/javascript" src="https://unpkg.com/echarts@5.2.0/dist/echarts.min.js" ></script>
    <!-- 引入中国地图 -->
    <script type="text/javascript" src="C:\\Users\\oneman233\\Desktop\\COVID19\\china.js" ></script>
    <!-- 引入视频播放插件 -->
    <script src="https://cdn.jsdelivr.net/npm/xgplayer@2.9.6/browser/index.js" type="text/javascript"></script>
</head>

<body>

    <div id="app">

        <!-- 导航栏 -->
        <el-menu
            default-active="1"
            @select="menuSelect"
            mode="horizontal"
        >

            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

            <!-- 插入校徽 -->
            <a href="https://www.seu.edu.cn/">
                <el-image
                    style="width: 50; height: 50"
                    :src="seulogo"
                ></el-image>
            </a>

            &nbsp;&nbsp;&nbsp;

            <el-menu-item index="1" style="color: #409EFF;font-size: large;">
                Map
            </el-menu-item>

            <el-menu-item index="2" style="color: #409EFF;font-size: large;">
                Prevention
            </el-menu-item>

            <el-menu-item index="3" style="color: #409EFF;font-size: large;">
                News
            </el-menu-item>

            <el-menu-item index="4" style="color: #409EFF;font-size: large;">
                Papers
            </el-menu-item>

            <el-menu-item index="5" style="color: #409EFF;font-size: large;">
                Video
            </el-menu-item>

            <el-menu-item index="6" style="color: #409EFF;font-size: large;">
                About
            </el-menu-item>

            <el-link type="info" disabled="true" icon="el-icon-time"
            style="margin-left: auto;margin-right: 20px;">{{ date }}</el-link>

            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        </el-menu>

        <br>

        <!-- 新冠疫情地图 -->

        <transition name="el-fade-in-linear">
            <div id='map' style=
                "width: 1300;height:850;
                box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                border-radius: 20px;
                margin: auto;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;"
                v-show='show == 1'
            ></div>
        </transition>

        <!-- 新冠防护知识 -->

        <el-row>
          <el-col :span="12" :offset="6">

            <transition name="el-fade-in-linear">
                <div v-show='show == 2'>

                    <p style="font-size: x-large;
                    font-family:'Times New Roman', Times, serif;
                    text-align: center;
                    font-weight: bold;
                    color: #909399">
                        COVID-19 Prevention Guide from WHO
                    </p>

                    <!-- 二选一 -->

                    <el-divider>
                        <i class="el-icon-star-on"></i>
                    </el-divider>

                    <el-divider content-position="right">
                        from WHO
                    </el-divider>

                    <el-carousel height="726" type="card"
                    style="box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                    border-radius: 20px;">
                        <el-carousel-item style="box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                        border-radius: 20px;">
                            <el-image style="width: 514px;height: 726px;"
                            src="C:\\Users\\oneman233\\Desktop\\COVID19\\advice_1.jpg"></el-image>
                        </el-carousel-item>
                        <el-carousel-item style="box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                        border-radius: 20px;">
                            <el-image style="width: 514px;height: 726px;"
                            src="C:\\Users\\oneman233\\Desktop\\COVID19\\advice_2.jpg"></el-image>
                        </el-carousel-item>
                        <el-carousel-item style="box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                        border-radius: 20px;">
                            <el-image style="width: 514px;height: 726px;"
                            src="C:\\Users\\oneman233\\Desktop\\COVID19\\advice_3.jpg"></el-image>
                        </el-carousel-item>
                        <el-carousel-item style="box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                        border-radius: 20px;">
                            <el-image style="width: 514px;height: 726px;"
                            src="C:\\Users\\oneman233\\Desktop\\COVID19\\advice_4.jpg"></el-image>
                        </el-carousel-item>
                        <el-carousel-item style="box-shadow: 0 2px 4px rgba(0,0,0,0.12),0 0 6px rgba(0,0,0,0.04);
                        border-radius: 20px;">
                            <el-image style="width: 514px;height: 726px;"
                            src="C:\\Users\\oneman233\\Desktop\\COVID19\\advice_5.jpg"></el-image>
                        </el-carousel-item>
                    </el-carousel>
                </div>
            </transition>

          </el-col>
        </el-row>

        <!-- 新冠新闻 -->
        <el-row>
          <el-col :span="12" :offset="6">
            <transition name="el-fade-in-linear">
                <div v-show="show == 3">

                    <el-collapse @change="newsChange" accordion>
                        <!-- 加入滚动条，同时固定页面高度 -->
                        <el-scrollbar height="1000px">
                            <el-collapse-item v-for="(n, id) in news" :name="id">
                            
                                <template #title>
                                    <p style="font-size: large;font-weight: bold;">
                                        {{ n.title }}
                                    </p>
                                </template>
    
                                <div style="white-space: pre-wrap;">
                                    {{ n.summary }}
                                </div>
    
                                <el-link type="primary" :href="n.sourceUrl">
                                    Original Link
                                </el-link>
                            
                            </el-collapse-item>
                        </el-scrollbar>
                    </el-collapse>

                </div>
            </transition>
          </el-col>
        </el-row>

        <!-- 新冠科研论文 -->

        <!-- 新冠视频 -->
        <transition name="el-fade-in-linear">
            <div v-show="show == 5" id="video">
                
            </div>
        </transition>

        <!-- 关于我们 -->

        <transition name="el-fade-in-linear">
            <div v-show="show == 6">
                <p style="text-align: center;">
                    What is COVID-19
                </p>
                <p style="text-align: center;">
                    Who are we
                </p>
                <p style="text-align: center;">
                    What is our aim
                </p>
            </div>
        </transition>

    </div>

</body>

<script>
    const APP = {
        data() {
            return {
                info: '',
                seulogo: 'C:\\Users\\oneman233\\Desktop\\COVID19\\seulogo.svg',
                show: 1,
                date: new Date().toString().slice(0, -18),
                news: {},
            }
        },
        mounted() {
            setInterval(() => {
                this.date = new Date().toString().slice(0, -18);
            }, 1000);
        },
        created() {
            axios.get('https://lab.isaaclin.cn/nCoV/api/news')
            .then(res => {
                console.log(res.data.results)
                this.news = res.data.results
            })
            .catch(err => {
                console.error(err); 
            })
        },
        methods: {
            menuSelect(key, KeyPath) {
                this.show = KeyPath
                console.log('选中了页面：' + KeyPath)
            },
            newsChange(val) {
                console.log('新闻：' + val);
            }
        },
    };

    const app = Vue.createApp(APP);
    app.use(ElementPlus);
    app.mount('#app');

    let player = new Player({
        id: 'video',
        url: 'C:\\Users\\oneman233\\Desktop\\COVID19\\Never Gonna Give You Up.mp4'
    });

    var mydata = [  
        {name: '北京',value: 1119},
        {name: '天津',value: 481},
        {name: '上海',value: 2557},
        {name: '重庆',value: 603},
        {name: '河北',value: 1317},
        {name: '河南',value: 1539},
        {name: '云南',value: 1309},
        {name: '辽宁',value: 450},
        {name: '黑龙江',value: 1616},
        {name: '湖南',value: 1181},
        {name: '安徽',value: 1008},
        {name: '山东',value: 929},
        {name: '新疆',value: 980},
        {name: '江苏',value: 1592},
        {name: '浙江',value: 1442},
        {name: '江西',value: 937},
        {name: '湖北',value: 68295},
        {name: '广西',value: 295},
        {name: '甘肃',value: 199},
        {name: '山西',value: 260},
        {name: '内蒙古',value: 416},
        {name: '陕西',value: 671},
        {name: '吉林',value: 574},
        {name: '福建',value: 1140},
        {name: '贵州',value: 147},
        {name: '广东',value: 3142},
        {name: '青海',value: 18},
        {name: '西藏',value: 1},
        {name: '四川',value: 1204},
        {name: '宁夏',value: 77},
        {name: '海南',value: 190},
        {name: '台湾',value: 16141},
        {name: '香港',value: 12160},
        {name: '澳门',value: 63},
    ];

    var optionMap = {
        title: {
            text: 'Chinese COVID-19 Map',
            subtext: 'Data from Dingxiang Doctor',
            x:'center'
        },

        //左侧小导航图标
        visualMap: {
            show : true,
            x: 'left',
            y: 'center',
            splitList: [
                {start: 1, end: 9},
                {start: 10, end: 99},
                {start: 100, end: 999},
                {start: 1000, end: 9999},
                {start: 10000},
            ],
            color: ['#F51105',
                    '#F55505',
                    '#FA8805',
                    '#FAB005',
                    '#FAD105',]
        },
        
        //配置属性
        series: [{
            name: '数据',
            type: 'map',
            mapType: 'china',
            roam: true, // 可移动地图
            label: {
                show: true,         // 省份名称
                fontWeight: 'bold', // 文字加粗

            },
            data: mydata,  //数据
            emphasis: {
                focus: true, // 聚焦显示
                label: {
                    show: true,
                    formatter: '{b}：{@value}', // 高亮时标签的文字，此处显示 name 和 value 值
                },
            },

            itemStyle: {
                normal: {
                    shadowBlur: 1, // 添加阴影
                }
            },
        }],
    };

    //初始化echarts实例
    var myChart = echarts.init(document.getElementById('map'));

    //使用制定的配置项和数据显示图表
    myChart.setOption(optionMap);
</script>